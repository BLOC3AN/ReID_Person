# Local Qdrant running at ../deployment/qdrant/ (accessible via qdrant_container in Docker network)
# For detection service with network_mode: host, use 127.0.0.1
# For other services on bridge network, use qdrant_container
QDRANT_URI=http://127.0.0.1:6333
QDRANT_COLLECTION=cross_camera_matching_id
QDRANT_PORT=6333
QDRANT_USE_GRPC=true

# ============================================================================
# Service URLs (for Docker deployment)
# ============================================================================

# For Docker deployment (uncomment if using docker-compose):
EXTRACT_API_URL=http://extract:8001
REGISTER_API_URL=http://register:8002
DETECTION_API_URL=http://detection:8003

# ============================================================================
# Triton Inference Server Configuration
# ============================================================================
# Used for optimized multi-stream detection
# Default: localhost:8101 (gRPC endpoint)

TRITON_URL=localhost:8101
TRITON_HTTP_PORT=8100
TRITON_GRPC_PORT=8101
TRITON_METRICS_PORT=8102

# ============================================================================
# GPU Configuration
# ============================================================================
# Control which GPU(s) to use
# Examples:
#   NVIDIA_VISIBLE_DEVICES=0        # Use GPU 0 only
#   NVIDIA_VISIBLE_DEVICES=0,1      # Use GPU 0 and 1
#   NVIDIA_VISIBLE_DEVICES=all      # Use all available GPUs

NVIDIA_VISIBLE_DEVICES=all
CUDA_VISIBLE_DEVICES=0

# ============================================================================
# Optional: Advanced Settings
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Model cache directory (for InsightFace models)
INSIGHTFACE_MODEL_ROOT=~/.insightface/models

# PostgreSQL Database
# For local development: use localhost or 127.0.0.1
# For Docker deployment: use postgres_db (container name)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=hailt
POSTGRES_PASSWORD=1
POSTGRES_DB=hailt_imespro
POSTGRES_TABLE=user

#========================================
# REDIS
#========================================
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_TTL=86400 # 1 day