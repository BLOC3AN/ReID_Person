# ============================================================================
# Person ReID System - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# Usage: cp .env.example .env

# ============================================================================
# Qdrant Vector Database Configuration
# ============================================================================
# Get credentials from: https://cloud.qdrant.io
# 1. Sign up and create a cluster
# 2. Get API key from Settings → API Keys
# 3. Get cluster URL from Cluster → Connection

QDRANT_API_KEY=your_api_key_here
QDRANT_URI=host=your-cluster.cloud.qdrant.io
QDRANT_COLLECTION=cross_camera_matching_id
QDRANT_PORT=6333
QDRANT_USE_GRPC=false  # Set to true to use gRPC protocol instead of HTTP

# For local Qdrant (alternative to cloud):
# QDRANT_HOST=localhost
# QDRANT_PORT=6333
# QDRANT_API_KEY=  # Leave empty for local

# ============================================================================
# Service URLs (for Docker deployment)
# ============================================================================
# These are used by the UI to communicate with backend services
# Default values work for both local and Docker deployments

# For local development (default):
REGISTER_API_URL=http://localhost:8002
DETECTION_API_URL=http://localhost:8003

# For Docker deployment (uncomment if using docker-compose):
# REGISTER_API_URL=http://register:8002
# DETECTION_API_URL=http://detection:8003

# ============================================================================
# Triton Inference Server Configuration
# ============================================================================
# Used for optimized multi-stream detection
# Default: localhost:8101 (gRPC endpoint)

TRITON_URL=localhost:8101
TRITON_HTTP_PORT=8100
TRITON_GRPC_PORT=8101
TRITON_METRICS_PORT=8102

# ============================================================================
# GPU Configuration
# ============================================================================
# Control which GPU(s) to use
# Examples:
#   NVIDIA_VISIBLE_DEVICES=0        # Use GPU 0 only
#   NVIDIA_VISIBLE_DEVICES=0,1      # Use GPU 0 and 1
#   NVIDIA_VISIBLE_DEVICES=all      # Use all available GPUs

NVIDIA_VISIBLE_DEVICES=all
CUDA_VISIBLE_DEVICES=0

# ============================================================================
# Optional: Advanced Settings
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Model cache directory (for InsightFace models)
# INSIGHTFACE_MODEL_ROOT=~/.insightface/models

# Qdrant connection settings
# QDRANT_TIMEOUT=10.0
# QDRANT_USE_GRPC=false  # Set to true to use gRPC protocol instead of HTTP (faster for local connections)
